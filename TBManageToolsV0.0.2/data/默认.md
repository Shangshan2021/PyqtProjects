# UWA公司内部TB工具指南V0.0.1

> 本应用旨在一定程度上简化Teambition的检索流程，方便生成报告与发送邮件。由于还没有收到进一步的需求，所以应用的功能还略显单薄，并且无法满足复杂的数据处理要求。下一版本改进的方向有：条件运算符及其功能的添加；新增查询参数；在API中添加更多数据；添加更多的“要求与提示”文档。

## 使用方法

### 查询参数

> 在此模块，集成了部分常用方法，对于不需要写入参数的，可以直接点击查询按钮获取结果。对于需要写入的，一般可以通过前期不需要获取参数的方法获取，并将目标项的参数写入文本框中。

具体方法如下：

- 企业中所有项目名称及ID
  - 项目名称，项目ID
- 项目中所有任务名称及ID（需写入项目ID）
  - 任务名称，任务ID
- 项目中所有任务类型名称及ID（需写入项目ID）
  - 任务类型名称，任务类型ID
- 项目中所有任务分组及ID（需写入项目ID）
  - 任务分组名称，任务分组ID

### 参数编辑

> 在此模块，集成了获取数据所需的所有参数，包括Url，Method，User，Params，Object，条件，返回项。其格式根据提示书写即可，范例将在下方给出。

具体条目如下：

- API

  - 选择后必须点击`查看`按钮，检查url是否需要改写
  - 例如：`https://open.teambition.com/api/v3/project/{projectId}/scenariofieldconfig/search`
  - 其中`{projectId}`需要替换为相应的项目ID

- Method

  - 根据文档中列出信息选择

- User

  - 在当前功能中并不重要

- Params

  - 查询参数，需要查看文档中是否有必填选项

  - 例如：

    ```
    tql:_projectId={projectId} AND isArchived = false
    pageSize:4000
    ```

  - 因为现在还不支持整数输入，所以pageSize已经整体置为4000

- Object

  - 请求体，格式同上

- 条件

  - 当前版本只集成了`IN/NOTIN`的方法，用于筛选数据中，有或没有指定值的条目的数据项

  - 例如:

    ```
    23862dhiaugd IN tasklistId			# 筛选在某一任务列表下的数据项
    97840923skasdn NOTIN customfields	# 筛选自定义字段列表下没有指定值的数据项
    ```

  - 可以多条件层层筛选

- 返回项

  - 指定返回的结果有哪些条目

  - 例如：

    ```
    content
    startDate
    note
    ```

  - 则在`数据`文本框中每一条数据会返回`任务内容、开始时间、备注`三种信息

### 编辑参数

- 更新
  - 将条目与值存入`data/config.json`并更新GUI中内容
  - 例如:选择API；`获取公司所有项目:https://open.teambition.com/api/project/query`
- 删除
  - 删除文件及GUI中相应条目
  - 例如:`获取公司所有项目`
- 保存配置
  - 在data文件夹下保存自命名数据文件，以便下次再用，并且可以写自动化脚本运行
- 载入配置
  - 选择配置文件完成快速搭建

### 数据

- 文本框
  - 可以在生成数据后手工编辑相关文字，作为邮件正文发送
- 生成数据
  - 字面意思
- 生成数据文件
  - 字面意思，默认保存在Temporaryfile文件夹中

### 发送邮件

- 收件人
  - 换行输入邮箱地址
- 添加文件
  - 字面意思
- 发送邮件
  - 字面意思
- 退出
  - 删除Temporaryfile中文件，退出程序

### 要求与提示

- 在选择API后点击刷新按钮，即可获得对应提示

## 使用目的

没有想好

## 注意事项

- 没有出现预期结果，先检查各处输入数据是否正确（特别是格式）
- 若检查无误，可以提交源码检查